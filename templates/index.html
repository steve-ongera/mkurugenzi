{% extends 'base.html' %}
{% load static %}
{% block title %}Home - E-commerce Store{% endblock %}

{% block content %}

<!-- start banner Area -->
<section class="banner-area">
	<div class="container">
		<div class="row fullscreen align-items-center justify-content-start">
			<div class="col-lg-12">
				<div class="active-banner-slider owl-carousel">
					<!-- single-slide -->
					<div class="row single-slide align-items-center d-flex">
						<div class="col-lg-5 col-md-6">
							<div class="banner-content">
								<h1>New Fashion <br>Collection!</h1>
								<p>Discover our latest collection of premium fashion items, shoes, and accessories. Quality meets style in every piece we offer.</p>
								<div class="add-bag d-flex align-items-center">
									<a class="add-btn" href="#"><span class="lnr lnr-cross"></span></a>
									<span class="add-text text-uppercase">Shop Now</span>
								</div>
							</div>
						</div>
						<div class="col-lg-7">
							<div class="banner-img">
								<img class="img-fluid" src="{% static 'img/banner/banner-img.png'%}" alt="">
							</div>
						</div>
					</div>
					<!-- single-slide -->
					<div class="row single-slide">
						<div class="col-lg-5">
							<div class="banner-content">
								<h1>Premium Quality <br>Guaranteed!</h1>
								<p>Experience the best in fashion with our carefully curated selection of brands and products that define style and comfort.</p>
								<div class="add-bag d-flex align-items-center">
									<a class="add-btn" href="#"><span class="lnr lnr-cross"></span></a>
									<span class="add-text text-uppercase">Explore</span>
								</div>
							</div>
						</div>
						<div class="col-lg-7">
							<div class="banner-img">
								<img class="img-fluid" src="{% static 'img/banner/banner-img.png'%}" alt="">
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
<!-- End banner Area -->

<!-- start features Area -->
<section class="features-area section_gap">
	<div class="container">
		<div class="row features-inner">
			<!-- single features -->
			<div class="col-lg-3 col-md-6 col-sm-6">
				<div class="single-features">
					<div class="f-icon">
						<img src="{% static 'img/features/f-icon1.png'%}" alt="">
					</div>
					<h6>Free Delivery</h6>
					<p>Free Shipping on all orders above KSH 5,000</p>
				</div>
			</div>
			<!-- single features -->
			<div class="col-lg-3 col-md-6 col-sm-6">
				<div class="single-features">
					<div class="f-icon">
						<img src="{% static 'img/features/f-icon2.png'%}" alt="">
					</div>
					<h6>Return Policy</h6>
					<p>30 days return policy on all items</p>
				</div>
			</div>
			<!-- single features -->
			<div class="col-lg-3 col-md-6 col-sm-6">
				<div class="single-features">
					<div class="f-icon">
						<img src="{% static 'img/features/f-icon3.png'%}" alt="">
					</div>
					<h6>24/7 Support</h6>
					<p>Round the clock customer support</p>
				</div>
			</div>
			<!-- single features -->
			<div class="col-lg-3 col-md-6 col-sm-6">
				<div class="single-features">
					<div class="f-icon">
						<img src="{% static 'img/features/f-icon4.png'%}" alt="">
					</div>
					<h6>Secure Payment</h6>
					<p>100% secure payment processing</p>
				</div>
			</div>
		</div>
	</div>
</section>
<!-- end features Area -->

<!-- Start category Area -->
<section class="category-area">
	<div class="container">
		<div class="row justify-content-center">
			<div class="col-lg-8 col-md-12">
				<div class="row">
					{% for category in categories|slice:":4" %}
					<div class="col-lg-{% if forloop.first or forloop.last %}8{% else %}4{% endif %} col-md-{% if forloop.first or forloop.last %}8{% else %}4{% endif %}">
						<div class="single-deal">
							<div class="overlay"></div>
							{% if category.image %}
							<img class="img-fluid w-100" src="{{ category.image.url }}" alt="{{ category.name }}">
							{% else %}
							<img class="img-fluid w-100" src="{% static 'img/category/c1.jpg'%}" alt="{{ category.name }}">
							{% endif %}
							<a href="{% url 'category_products' category.slug %}" class="img-pop-up">
								<div class="deal-details">
									<h6 class="deal-title">{{ category.name }}</h6>
								</div>
							</a>
						</div>
					</div>
					{% empty %}
					<div class="col-lg-8 col-md-8">
						<div class="single-deal">
							<div class="overlay"></div>
							<img class="img-fluid w-100" src="{% static 'img/category/c1.jpg'%}" alt="">
							<a href="#" class="img-pop-up">
								<div class="deal-details">
									<h6 class="deal-title">Fashion Collection</h6>
								</div>
							</a>
						</div>
					</div>
					{% endfor %}
				</div>
			</div>
			<div class="col-lg-4 col-md-6">
				<div class="single-deal">
					<div class="overlay"></div>
					{% if categories|length > 4 %}
					{% with categories.4 as featured_category %}
					{% if featured_category.image %}
					<img class="img-fluid w-100" src="{{ featured_category.image.url }}" alt="{{ featured_category.name }}">
					{% else %}
					<img class="img-fluid w-100" src="{% static 'img/category/c5.jpg'%}" alt="{{ featured_category.name }}">
					{% endif %}
					<a href="{% url 'category_products' featured_category.slug %}" class="img-pop-up">
						<div class="deal-details">
							<h6 class="deal-title">{{ featured_category.name }}</h6>
						</div>
					</a>
					{% endwith %}
					{% else %}
					<img class="img-fluid w-100" src="{% static 'img/category/c5.jpg'%}" alt="">
					<a href="#" class="img-pop-up">
						<div class="deal-details">
							<h6 class="deal-title">Special Collection</h6>
						</div>
					</a>
					{% endif %}
				</div>
			</div>
		</div>
	</div>
</section>
<!-- End category Area -->

<!-- start product Area -->
<section class="owl-carousel active-product-area section_gap">
	<!-- single product slide - Latest Products -->
	<div class="single-product-slider">
		<div class="container">
			<div class="row justify-content-center">
				<div class="col-lg-6 text-center">
					<div class="section-title">
						<h1>Latest Products</h1>
						<p>Discover our newest arrivals featuring the latest trends in fashion, shoes, and accessories.</p>
					</div>
				</div>
			</div>
			<div class="row">
				<!-- single product -->
				{% for product in latest_products %}
				<div class="col-lg-3 col-md-6">
					<div class="single-product">
						{% if product.image %}
						<img class="img-fluid" src="{{ product.image.image.url }}" alt="{{ product.name }}">
						{% else %}
						<div class="img-fluid d-flex align-items-center justify-content-center" style="height: 250px; background-color: #f8f9fa;">
							<span class="text-muted">No image available</span>
						</div>
						{% endif %}
						<div class="product-details">
							<h6>{{ product.name|truncatechars:40 }}</h6>
							<div class="price">
								<h6>KSH {{ product.price }}</h6>
								{% if product.discount_percentage > 0 %}
								<h6 class="l-through">KSH {{ product.base_price }}</h6>
								{% endif %}
							</div>
							<div class="prd-bottom">
								<a href="{% url 'product_detail' product.slug %}" class="social-info">
									<span class="ti-bag"></span>
									<p class="hover-text">add to bag</p>
								</a>
								<a href="#" class="social-info">
									<span class="lnr lnr-heart"></span>
									<p class="hover-text">Wishlist</p>
								</a>
								<a href="#" class="social-info">
									<span class="lnr lnr-sync"></span>
									<p class="hover-text">compare</p>
								</a>
								<a href="{% url 'product_detail' product.slug %}" class="social-info">
									<span class="lnr lnr-move"></span>
									<p class="hover-text">view more</p>
								</a>
							</div>
						</div>
					</div>
				</div>
				{% empty %}
				<div class="col-12 text-center">
					<p>No products available at the moment.</p>
				</div>
				{% endfor %}
			</div>
		</div>
	</div>
	
	<!-- single product slide - Featured Products -->
	<div class="single-product-slider">
		<div class="container">
			<div class="row justify-content-center">
				<div class="col-lg-6 text-center">
					<div class="section-title">
						<h1>Featured Products</h1>
						<p>Our handpicked selection of premium products that define quality and style in fashion.</p>
					</div>
				</div>
			</div>
			<div class="row">
				<!-- single product -->
				{% for product in featured_products %}
				<div class="col-lg-3 col-md-6">
					<div class="single-product">
						{% if product.image %}
						<img class="img-fluid" src="{{ product.image.image.url }}" alt="{{ product.name }}">
						{% else %}
						<div class="img-fluid d-flex align-items-center justify-content-center" style="height: 250px; background-color: #f8f9fa;">
							<span class="text-muted">No image available</span>
						</div>
						{% endif %}
						<div class="product-details">
							<h6>{{ product.name|truncatechars:40 }}</h6>
							<div class="price">
								<h6>KSH {{ product.price }}</h6>
								{% if product.discount_percentage > 0 %}
								<h6 class="l-through">KSH {{ product.base_price }}</h6>
								{% endif %}
							</div>
							<div class="prd-bottom">
								<a href="{% url 'product_detail' product.slug %}" class="social-info">
									<span class="ti-bag"></span>
									<p class="hover-text">add to bag</p>
								</a>
								<a href="#" class="social-info">
									<span class="lnr lnr-heart"></span>
									<p class="hover-text">Wishlist</p>
								</a>
								<a href="#" class="social-info">
									<span class="lnr lnr-sync"></span>
									<p class="hover-text">compare</p>
								</a>
								<a href="{% url 'product_detail' product.slug %}" class="social-info">
									<span class="lnr lnr-move"></span>
									<p class="hover-text">view more</p>
								</a>
							</div>
						</div>
					</div>
				</div>
				{% empty %}
				<div class="col-12 text-center">
					<p>No featured products available at the moment.</p>
				</div>
				{% endfor %}
			</div>
		</div>
	</div>
</section>
<!-- end product Area -->

<!-- Start exclusive deal Area -->
<section class="exclusive-deal-area">
	<div class="container-fluid">
		<div class="row justify-content-center align-items-center">
			<div class="col-lg-6 no-padding exclusive-left">
				<div class="row clock_sec clockdiv" id="clockdiv">
					<div class="col-lg-12">
						<h1>Exclusive Hot Deal Ends Soon!</h1>
						<p>Limited time offer on our premium collection. Don't miss out!</p>
					</div>
					<div class="col-lg-12">
						<div class="row clock-wrap">
							<div class="col clockinner1 clockinner">
								<h1 class="days">150</h1>
								<span class="smalltext">Days</span>
							</div>
							<div class="col clockinner clockinner1">
								<h1 class="hours">23</h1>
								<span class="smalltext">Hours</span>
							</div>
							<div class="col clockinner clockinner1">
								<h1 class="minutes">47</h1>
								<span class="smalltext">Mins</span>
							</div>
							<div class="col clockinner clockinner1">
								<h1 class="seconds">59</h1>
								<span class="smalltext">Secs</span>
							</div>
						</div>
					</div>
				</div>
				<a href="#" class="primary-btn">Shop Now</a>
			</div>
			<div class="col-lg-6 no-padding exclusive-right">
				<div class="active-exclusive-product-slider">
					{% for product in featured_products|slice:":2" %}
					<!-- single exclusive carousel -->
					<div class="single-exclusive-slider">
						{% if product.image %}
						<img class="img-fluid" src="{{ product.image.image.url }}" alt="{{ product.name }}">
						{% else %}
						<img class="img-fluid" src="{% static 'img/product/e-p1.png' %}" alt="{{ product.name }}">
						{% endif %}
						<div class="product-details">
							<div class="price">
								<h6>KSH {{ product.price }}</h6>
								{% if product.discount_percentage > 0 %}
								<h6 class="l-through">KSH {{ product.base_price }}</h6>
								{% endif %}
							</div>
							<h4>{{ product.name|truncatechars:50 }}</h4>
							<div class="add-bag d-flex align-items-center justify-content-center">
								<a class="add-btn" href="{% url 'product_detail' product.slug %}"><span class="ti-bag"></span></a>
								<span class="add-text text-uppercase">Add to Bag</span>
							</div>
						</div>
					</div>
					{% empty %}
					<!-- Fallback if no featured products -->
					<div class="single-exclusive-slider">
						<img class="img-fluid" src="{% static 'img/product/e-p1.png' %}" alt="">
						<div class="product-details">
							<div class="price">
								<h6>KSH 150.00</h6>
								<h6 class="l-through">KSH 210.00</h6>
							</div>
							<h4>Premium Fashion Collection</h4>
							<div class="add-bag d-flex align-items-center justify-content-center">
								<a class="add-btn" href="#"><span class="ti-bag"></span></a>
								<span class="add-text text-uppercase">Add to Bag</span>
							</div>
						</div>
					</div>
					{% endfor %}
				</div>
			</div>
		</div>
	</div>
</section>
<!-- End exclusive deal Area -->

<!-- Start brand Area -->
<section class="brand-area section_gap">
	<div class="container">
		<div class="row">
			{% for brand in brands|slice:":5" %}
			<a class="col single-img" href="#">
				{% if brand.logo %}
				<img class="img-fluid d-block mx-auto" src="{{ brand.logo.url }}" alt="{{ brand.name }}">
				{% else %}
				<div class="d-flex align-items-center justify-content-center" style="height: 80px;">
					<h5 class="text-muted">{{ brand.name }}</h5>
				</div>
				{% endif %}
			</a>
			{% empty %}
			<a class="col single-img" href="#">
				<img class="img-fluid d-block mx-auto" src="{% static 'img/brand/1.png' %}" alt="">
			</a>
			<a class="col single-img" href="#">
				<img class="img-fluid d-block mx-auto" src="{% static 'img/brand/2.png' %}" alt="">
			</a>
			<a class="col single-img" href="#">
				<img class="img-fluid d-block mx-auto" src="{% static 'img/brand/3.png' %}" alt="">
			</a>
			<a class="col single-img" href="#">
				<img class="img-fluid d-block mx-auto" src="{% static 'img/brand/4.png' %}" alt="">
			</a>
			<a class="col single-img" href="#">
				<img class="img-fluid d-block mx-auto" src="{% static 'img/brand/5.png' %}" alt="">
			</a>
			{% endfor %}
		</div>
	</div>
</section>
<!-- End brand Area -->

<!-- Start related-product Area -->
<section class="related-product-area section_gap_bottom">
	<div class="container">
		<div class="row justify-content-center">
			<div class="col-lg-6 text-center">
				<div class="section-title">
					<h1>Deals of the Week</h1>
					<p>Special discounted products available for a limited time. Grab them before they're gone!</p>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-9">
				<div class="row">
					{% for product in latest_products|slice:":9" %}
					<div class="col-lg-4 col-md-4 col-sm-6 mb-20">
						<div class="single-related-product d-flex">
							<a href="{% url 'product_detail' product.slug %}">
								{% if product.image %}
								<img src="{{ product.image.image.url }}" alt="{{ product.name }}" style="width: 70px; height: 70px; object-fit: cover;">
								{% else %}
								<div style="width: 70px; height: 70px; background-color: #f8f9fa; display: flex; align-items: center; justify-content: center;">
									<span class="text-muted" style="font-size: 10px;">No Image</span>
								</div>
								{% endif %}
							</a>
							<div class="desc">
								<a href="{% url 'product_detail' product.slug %}" class="title">{{ product.name|truncatechars:25 }}</a>
								<div class="price">
									<h6>KSH {{ product.price }}</h6>
									{% if product.discount_percentage > 0 %}
									<h6 class="l-through">KSH {{ product.base_price }}</h6>
									{% endif %}
								</div>
							</div>
						</div>
					</div>
					{% empty %}
					<div class="col-12 text-center">
						<p>No deals available at the moment.</p>
					</div>
					{% endfor %}
				</div>
			</div>
			<div class="col-lg-3">
				<div class="ctg-right">
					<a href="#" target="_blank">
						<img class="img-fluid d-block mx-auto" src="{% static 'img/category/c5.jpg' %}" alt="">
					</a>
				</div>
			</div>
		</div>
	</div>
</section>

{% endblock %}